import streamlit as st

# Sidebar form for inputs
with st.sidebar.form("input_form"):
    # Group A inputs
    st.header("Group A Inputs (Shared)")
    input1 = st.text_input("Input 1 (for both charts)")
    input2 = st.text_input("Input 2 (for both charts)")
    input3 = st.text_input("Input 3 (for both charts)")

    # Group B inputs
    st.header("Group B Inputs (For Second Chart)")
    input4 = st.text_input("Input 4")
    input5 = st.text_input("Input 5")
    input6 = st.text_input("Input 6")
    input7 = st.text_input("Input 7")
    input8 = st.text_input("Input 8")

    # Buttons to apply inputs
    group_a_button = st.form_submit_button("Apply Group A (Generate Chart 1)")
    group_b_button = st.form_submit_button("Apply Group B (Generate Chart 2)")

# Ensure shared state is initialized
if "group_a_inputs" not in st.session_state:
    st.session_state["group_a_inputs"] = None

# Handle Group A button click
if group_a_button:
    st.session_state["group_a_inputs"] = {"input1": input1, "input2": input2, "input3": input3}
    st.success("Group A Inputs Applied!")
    st.write("Chart 1 Inputs:", st.session_state["group_a_inputs"])
    st.line_chart([1, 2, 3])  # Placeholder for Chart 1

# Handle Group B button click
if group_b_button:
    if st.session_state["group_a_inputs"] is None:
        st.error("Please apply Group A inputs first!")
    else:
        st.success("Group B Inputs Applied!")
        st.write("Group A Inputs:", st.session_state["group_a_inputs"])
        st.write("Group B Inputs:", {"input4": input4, "input5": input5, "input6": input6, "input7": input7, "input8": input8})
        st.line_chart([3, 2, 1])  # Placeholder for Chart 2
